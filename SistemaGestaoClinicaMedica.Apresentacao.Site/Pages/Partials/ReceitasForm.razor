@using SistemaGestaoClinicaMedica.Aplicacao.DTO;
@using SistemaGestaoClinicaMedica.Apresentacao.Site.Servicos;
@inherits FormBase<IReceitasServico, ReceitaDTO, Guid>

<HeaderComponent Title="Cadastro de Exame" BackRoute="@AposSalvarRetonarPara" />

<FormComponent Item="_dto" OnValidSubmit="Salvar" SubmitButtonText="Salvar Receita">
    <div class="form-group col-md-12">
        <label for="medicamentos">Medicamentos</label>
        <SelectWithSearch Id="medicamentos"
                          Placeholder="Adicione os medicamentos à receita"
                          Items="Medicamentos"
                          IsMultiple="true"
                          Context="ctx">
            <option value="@ctx.Id.ToString()" selected="@(_dto.ReceitaMedicamentos.Any(_ => _.MedicamentoId == ctx.Id))">@ctx.NomeFabrica</option>
        </SelectWithSearch>
    </div>
    <div class="form-group col-md-12">
        <label for="observacao">Observação</label>
        <InputTextArea @bind-Value="@_dto.Observacao" class="form-control" id="observacao" />
    </div>
</FormComponent>